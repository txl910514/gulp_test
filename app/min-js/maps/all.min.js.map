{"version":3,"sources":["all.min.js"],"names":["test_es","jquery","console","log","POWER_CONFIG","power_content_tpl","_","template","$","html","ready_init","self","this","load_group","group","cookie","addClass","siblings","removeClass","power_content_show","page","event","data","$power_box","empty","G_FUNCS","ajax_get","stat","length","append","each","datas","$power_content_tpl","trim","pagenation","pages","new_dispatch_click","$modal","modal","group_active","find","val","power_nav","$obj","new_dispatch_form","ajax_post","kz_clear","closest","alertify","success","reload","on","FUNC","_content_tpl","$content_container","$page_box","read_broadcast","url","attr","obj_ids","map","i","id","getJSON","query_broadcast","affiche_box_line","hasclass","hasClass","notice_num","text","receive_num","read_num","parseInt","read_receive_num","css","affiche_detail_click","data_detail","title","create_time","content","window","onload"],"mappings":"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","file":"all.min.js","sourcesContent":["\"use strict\";\n\n/**\n * Created by root on 01/08/16.\n */\nvar test_es = 5;\n\"use strict\";\n\n/**\n * Created by root on 27/07/16.\n */\n(function (jquery) {\n  console.log(jquery);\n})(\"hhah\");\n\"use strict\";\n\n/**\n * Created by root on 19/09/15.\n */\n\nvar POWER_CONFIG = {\n  power_content_tpl: _.template($(\"#power_content_tpl\").html()),\n\n  ready_init: function ready_init() {\n    var self = this;\n    self.load_group();\n  },\n\n  load_group: function load_group() {\n    var self = this;\n    var group = $.cookie(\"group\");\n    if ($.cookie(\"group\")) {\n      $(\".power_nav#\" + group + \"_nav\").addClass(\"active\").siblings().removeClass(\"active\");\n    } else {\n      $(\".power_nav:first\").addClass(\"active\").siblings().removeClass(\"active\");\n    }\n    self.power_content_show();\n  },\n\n  power_content_show: function power_content_show(page, event) {\n    var self = POWER_CONFIG;\n    var group = $(\".power_nav.active\").data(\"group\");\n    var $power_box = $(\".power_content_box\");\n    $power_box.empty();\n    G_FUNCS.ajax_get($power_box, { group: group }, function (data) {\n      if (data.stat === \"success\") {\n        if (data.data.length === 0) {\n          if (group === \"partner_dispatcher\") {\n            $power_box.append($(\"<div class='no_infor'>暂无调度员信息</div>\"));\n          } else if (group === \"partner_admin\") {\n            $power_box.append($(\"<div class='no_infor'>暂无管理员信息</div>\"));\n          } else if (group === \"partner_super\") {\n            $power_box.append($(\"<div class='no_infor'>暂无超级管理员成信息</div>\"));\n          } else if (group === \"partner_accountant\") {\n            $power_box.append($(\"<div class='no_infor'>暂无财务人员信息</div>\"));\n          }\n        }\n        _.each(data.data, function (datas) {\n          var $power_content_tpl = $($.trim(self.power_content_tpl(datas)));\n          $power_box.append($power_content_tpl);\n        });\n        G_FUNCS.pagenation($(\".power_page_box\"), data.pages, data.page, self.power_content_show);\n      }\n    });\n  },\n\n  new_dispatch_click: function new_dispatch_click() {\n    var $modal = $(\"#new_dispatch_modal\");\n    $modal.modal(\"show\");\n    var group_active = $(\".power_nav.active\").data(\"group\");\n    $modal.find(\".group\").val(group_active);\n  },\n\n  power_nav: function power_nav($obj) {\n    var self = this;\n    var group = $obj.data(\"group\");\n    $obj.addClass(\"active\").siblings().removeClass(\"active\");\n    $.cookie(\"group\", group);\n    self.load_group();\n  },\n\n  new_dispatch_form: function new_dispatch_form($obj) {\n    var self = this;\n    var group_active = $(\".power_nav.active\").data(\"group\");\n    G_FUNCS.ajax_post($obj, function (data) {\n      if (data.stat === \"success\") {\n        $obj.kz_clear();\n        $obj.closest(\".modal\").modal(\"hide\");\n        if (group_active == \"partner_dispatcher\") {\n          alertify.success(\"添加调度员成功\");\n        } else if (group_active == \"partner_admin\") {\n          alertify.success(\"添加管理员成功\");\n        } else if (group_active == \"partner_super\") {\n          alertify.success(\"添加超级管理员成功\");\n        } else if (group_active == \"partner_accountant\") {\n          alertify.success(\"添加财务人员成功\");\n        }\n        G_FUNCS.reload();\n      }\n    });\n  }\n};\n\n$(function () {\n  POWER_CONFIG.ready_init();\n}).on(\"click\", \".new_dispatch_click\", function () {\n  POWER_CONFIG.new_dispatch_click();\n}).on(\"submit\", \".new_dispatch_form\", function () {\n  POWER_CONFIG.new_dispatch_form($(this));\n  return false;\n}).on(\"click\", \".power_nav\", function () {\n  POWER_CONFIG.power_nav($(this));\n});\n'use strict';\n\nvar FUNC = {\n    _content_tpl: _.template($('#content_tpl').html()),\n    $content_container: $('#content_container'),\n    $page_box: $('#page_box'),\n\n    read_broadcast: function read_broadcast(data) {\n        var self = this;\n        var url = $(\"tr\").attr(\"url\");\n        var obj_ids = _.map(data, function (i) {\n            return i.id;\n        });\n        $.getJSON(url, { obj_ids: obj_ids }, function (data) {});\n    },\n\n    query_broadcast: function query_broadcast(page, event) {\n        var self = FUNC;\n\n        G_FUNCS.ajax_get(self.$content_container, {\n            page: page\n        }, function (data) {\n            if (data.stat === 'success') {\n                self.$content_container.html(self._content_tpl({ data: data }));\n                G_FUNCS.pagenation(self.$page_box, data.pages, data.page, self.query_broadcast);\n            }\n        });\n    },\n\n    affiche_box_line: function affiche_box_line($obj) {\n        var self = this;\n        var id = $obj.attr(\"id\");\n        var url = $obj.attr(\"url\");\n        var hasclass = $obj.hasClass(\"new_status\");\n        if (hasclass) {\n            $.getJSON(url, { obj_ids: [id] }, function (data) {\n                if (data.stat === \"success\") {\n                    $obj.removeClass(\"new_status\");\n                    var notice_num = $(\"#notice_nav_notice\").text();\n                    var receive_num = $(\"#receive_num\").text();\n                    if (notice_num !== \"\" && notice_num !== \"99+\") {\n                        var read_num = parseInt(notice_num) - 1;\n                        if (read_num === 0) {\n                            read_num = \"\";\n                        }\n                        $(\"#notice_nav_notice\").text(read_num);\n                    }\n                    if (receive_num !== \"\" && receive_num !== \"99+\") {\n                        var read_receive_num = parseInt(receive_num) - 1;\n                        if (read_receive_num === 0) {\n                            read_receive_num = \"\";\n                            $(\"#receive_num\").closest(\".notice_receive_parent\").css(\"display\", \"none\");\n                        }\n                        $(\"#receive_num\").text(read_receive_num);\n                    }\n                }\n            });\n        }\n    },\n\n    ready_init: function ready_init() {\n        var self = this;\n        self.query_broadcast();\n    },\n\n    affiche_detail_click: function affiche_detail_click($obj) {\n        var self = this;\n        var $modal = $(\"#affiche_detail_modal\");\n        var data_detail = $obj.data(\"detail\");\n        $modal.find(\".modal-title\").html(data_detail.title);\n        $modal.find(\".create_time_text\").html(data_detail.create_time);\n        $modal.find(\".content_text\").html(data_detail.content);\n        self.affiche_box_line($obj.closest(\".affiche_box_line\"));\n        $modal.modal(\"show\");\n    }\n};\n\n$(function () {\n    FUNC.ready_init();\n}).on(\"click\", \".affiche_detail_click\", function () {\n    FUNC.affiche_detail_click($(this));\n});\n\"use strict\";\n\nwindow.onload = function () {\n  console.log(11);\n};"],"sourceRoot":"/source/"}